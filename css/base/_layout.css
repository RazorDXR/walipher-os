html {
    background-color: var(--dark-bg);
    /* Prevents black notch/overscroll */
    height: 100%;
}

body {
    margin: 0;
    padding: 20px;
    /* Safe Area + Status Bar Protection */
    padding-top: max(20px, env(safe-area-inset-top));
    padding-bottom: max(120px, env(safe-area-inset-bottom));

    min-height: 100dvh;
    /* Dynamic Viewport for address bar awareness */
    display: flex;
    flex-direction: column;
    align-items: center;
    /* Centralized Content */
    color: white;
    background-color: transparent;
    overflow-x: hidden;
    /* Removed background-attachment fixed from here */
    position: relative;
}

/* Fixed Background Layer for iOS Smoothness */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    background-color: var(--dark-bg);
    /* Transition handled by main thread, performant */
    transition: background 1.5s ease-in-out;
    background-size: cover;
    background-position: center;
    /* Background Image will be set by JS via inline style on this? 
       Actually JS sets it on 'body'. We need to redirect that logic 
       OR just set body background to fixed but on a div. 
       
       Wait, personalization.js sets document.body.style.backgroundImage.
       If we want to fix iOS scrolling, we should use a separate div container for background
       or keep it simple.
       
       Let's stick to the simplest fix for NOW: min-height 100dvh and overscroll-behavior on body.
    */
}

.workspace {
    width: 100%;
    margin: 0 auto;
    /* Force centering */
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Dashboard Header */
.dashboard-header {
    text-align: center;
    margin-bottom: 30px;
    width: 100%;
    max-width: 800px;
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Ambient Lights */
.ambient-light {
    position: fixed;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.6;
    z-index: -1;
    transition: opacity 1s ease;
}

@keyframes float-1 {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
    }

    50% {
        transform: translate(200px, -100px) scale(1.1);
    }
}

@keyframes float-2 {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
    }

    50% {
        transform: translate(-150px, 150px) scale(0.9);
    }
}

@keyframes float-3 {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
    }

    50% {
        transform: translate(150px, -150px) scale(1.1);
    }
}

.light-1 {
    top: -10%;
    left: -10%;
    width: 50vw;
    height: 50vw;
    background: #0891b2;
    animation: float-1 12s ease-in-out infinite alternate;
}

.light-2 {
    top: 40%;
    right: -10%;
    width: 40vw;
    height: 40vw;
    background: #4f46e5;
    animation: float-2 15s ease-in-out infinite alternate;
}

.light-3 {
    bottom: -20%;
    left: 20%;
    width: 60vw;
    height: 60vw;
    background: #1e3a8a;
    animation: float-3 14s ease-in-out infinite alternate;
}

/* Mobile Layout Overrides */
@media (max-width: 700px) {
    body {
        padding: 15px;
        /* Increased top padding for better notch clearance */
        padding-top: max(50px, env(safe-area-inset-top));
        padding-bottom: max(100px, env(safe-area-inset-bottom));
    }
}